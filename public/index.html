<!doctype html>
<html>
  <head>
    <title>Crimethory</title>
    <link rel="stylesheet" href="/css/foundation.css">
    <link rel="stylesheet" href="/css/app.css">
    <link href="https://fonts.googleapis.com/css?family=Proza+Libre" rel="stylesheet">
    <style>
      html, body {
        margin: 0;
        padding: 0;
        height: 100%;
      }
      .row {
        height: 100%;
        width: 100% !important;
        max-width: initial;
        z-index: 2;
        position: absolute;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;
      }
      .map-container {
        width: 100%;
        height: 100%;
      }
      .line-chart {
        position: absolute;
        width: 25%;
        height: 35%;
        border: 1px solid #787878;
        top: 30px;
        left: 30px;
        background: white;
        border-radius: 5px;
        opacity: 0.8;
        z-index: 3;
      }
      .pie-chart {
        position: absolute;
        width: 25%;
        height: 35%;
        border: 1px solid #787878;
        background-color: white;
        bottom: 30px;
        left: 30px;
        border-radius: 5px;
        opacity: 0.8;
        z-index: 3;
      }
      .tweets {
        position: absolute;
        width: 25%;
        height: calc(100% - 60px);
        border: 1px solid #787878;
        background-color: white;
        top: 30px;
        right: 30px;
        border-radius: 5px;
        opacity: 0.8;
        overflow: auto;
        z-index: 3;
      }
      .search {
        position: absolute;
        top: 30px;
        width: 42%;
        left: 50%;
        transform: translate(-50%);
        border: 1px solid black;
        border-radius: 5px;
        z-index: 3;
      }
      .spinner {
        width: 40px;
        height: 40px;
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        margin: 0;
      }

      .cube1, .cube2 {
        background-color: white;
        width: 15px;
        height: 15px;
        position: absolute;
        top: 0;
        left: 0;

        -webkit-animation: sk-cubemove 1.8s infinite ease-in-out;
        animation: sk-cubemove 1.8s infinite ease-in-out;
      }

      .cube2 {
        -webkit-animation-delay: -0.9s;
        animation-delay: -0.9s;
      }

      @-webkit-keyframes sk-cubemove {
        25% { -webkit-transform: translateX(42px) rotate(-90deg) scale(0.5) }
        50% { -webkit-transform: translateX(42px) translateY(42px) rotate(-180deg) }
        75% { -webkit-transform: translateX(0px) translateY(42px) rotate(-270deg) scale(0.5) }
        100% { -webkit-transform: rotate(-360deg) }
      }

      @keyframes sk-cubemove {
        25% {
          transform: translateX(42px) rotate(-90deg) scale(0.5);
          -webkit-transform: translateX(42px) rotate(-90deg) scale(0.5);
        } 50% {
          transform: translateX(42px) translateY(42px) rotate(-179deg);
          -webkit-transform: translateX(42px) translateY(42px) rotate(-179deg);
        } 50.1% {
          transform: translateX(42px) translateY(42px) rotate(-180deg);
          -webkit-transform: translateX(42px) translateY(42px) rotate(-180deg);
        } 75% {
          transform: translateX(0px) translateY(42px) rotate(-270deg) scale(0.5);
          -webkit-transform: translateX(0px) translateY(42px) rotate(-270deg) scale(0.5);
        } 100% {
          transform: rotate(-360deg);
          -webkit-transform: rotate(-360deg);
        }
      }

      .overlay {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-color: rgba(100,181,246 ,0.8);
        /*opacity: 0;*/
        transition: opacity 1s;
        /*display: none;*/
      }


    </style>

  </head>

  <body>
    <div class="row">
      <div class="map-container"></div>
    </div>
    <div class="line-chart"></div>
    <div class="pie-chart"></div>
    <div class="tweets">
      <blockquote class="twitter-tweet" data-lang="ru"><p lang="ru" dir="ltr">Давно не заходил в твиттер. Что тут нового?</p>&mdash; Igor V Churmeev (@Ingvarch) <a href="https://twitter.com/Ingvarch/status/786132890165751808">12 октября 2016 г.</a></blockquote>
      <blockquote class="twitter-tweet" data-lang="ru"><p lang="ru" dir="ltr">Давно не заходил в твиттер. Что тут нового?</p>&mdash; Igor V Churmeev (@Ingvarch) <a href="https://twitter.com/Ingvarch/status/786132890165751808">12 октября 2016 г.</a></blockquote>
      <blockquote class="twitter-tweet" data-lang="ru"><p lang="ru" dir="ltr">Давно не заходил в твиттер. Что тут нового?</p>&mdash; Igor V Churmeev (@Ingvarch) <a href="https://twitter.com/Ingvarch/status/786132890165751808">12 октября 2016 г.</a></blockquote>
      <blockquote class="twitter-tweet" data-lang="ru"><p lang="ru" dir="ltr">Давно не заходил в твиттер. Что тут нового?</p>&mdash; Igor V Churmeev (@Ingvarch) <a href="https://twitter.com/Ingvarch/status/786132890165751808">12 октября 2016 г.</a></blockquote>
      <blockquote class="twitter-tweet" data-lang="ru"><p lang="ru" dir="ltr">Давно не заходил в твиттер. Что тут нового?</p>&mdash; Igor V Churmeev (@Ingvarch) <a href="https://twitter.com/Ingvarch/status/786132890165751808">12 октября 2016 г.</a></blockquote>
      <blockquote class="twitter-tweet" data-lang="ru"><p lang="ru" dir="ltr">Давно не заходил в твиттер. Что тут нового?</p>&mdash; Igor V Churmeev (@Ingvarch) <a href="https://twitter.com/Ingvarch/status/786132890165751808">12 октября 2016 г.</a></blockquote>
      <blockquote class="twitter-tweet" data-lang="ru"><p lang="ru" dir="ltr">Давно не заходил в твиттер. Что тут нового?</p>&mdash; Igor V Churmeev (@Ingvarch) <a href="https://twitter.com/Ingvarch/status/786132890165751808">12 октября 2016 г.</a></blockquote>
      <blockquote class="twitter-tweet" data-lang="ru"><p lang="ru" dir="ltr">Давно не заходил в твиттер. Что тут нового?</p>&mdash; Igor V Churmeev (@Ingvarch) <a href="https://twitter.com/Ingvarch/status/786132890165751808">12 октября 2016 г.</a></blockquote>
      <blockquote class="twitter-tweet" data-lang="ru"><p lang="ru" dir="ltr">Давно не заходил в твиттер. Что тут нового?</p>&mdash; Igor V Churmeev (@Ingvarch) <a href="https://twitter.com/Ingvarch/status/786132890165751808">12 октября 2016 г.</a></blockquote>
      <blockquote class="twitter-tweet" data-lang="ru"><p lang="ru" dir="ltr">Давно не заходил в твиттер. Что тут нового?</p>&mdash; Igor V Churmeev (@Ingvarch) <a href="https://twitter.com/Ingvarch/status/786132890165751808">12 октября 2016 г.</a></blockquote>
      <blockquote class="twitter-tweet" data-lang="ru"><p lang="ru" dir="ltr">Давно не заходил в твиттер. Что тут нового?</p>&mdash; Igor V Churmeev (@Ingvarch) <a href="https://twitter.com/Ingvarch/status/786132890165751808">12 октября 2016 г.</a></blockquote>
      <blockquote class="twitter-tweet" data-lang="ru"><p lang="ru" dir="ltr">Давно не заходил в твиттер. Что тут нового?</p>&mdash; Igor V Churmeev (@Ingvarch) <a href="https://twitter.com/Ingvarch/status/786132890165751808">12 октября 2016 г.</a></blockquote>
    </div>
    <input type="text" class="search" placeholder="Поиск" autofocus />
    <div class="overlay" style="opacity: 0; z-index: 1;">
      <div class="spinner">
        <div class="cube1"></div>
        <div class="cube2"></div>
      </div>
    </div>
    <script>
      function initMap() {
        var uluru = {lat: 55.757972, lng: 37.599507};
        var map = new google.maps.Map(document.querySelector('.map-container'), {
          zoom: 15,
          center: uluru
        });
        var marker = new google.maps.Marker({
          position: uluru,
          map: map
        });
        marker.setMap(map);
        new google.maps.places.Autocomplete(document.querySelector(".search"), { types: ['geocode'] }).addListener('place_changed', function () {
          var marker = new google.maps.Marker({
            position: this.getPlace().geometry.location,
            title: this.getPlace().name
          });
          marker.setMap(map);
          map.setCenter(this.getPlace().geometry.location);
        });
      }


      function showOrHideSpinner() {
        const el = document.querySelector('.overlay');
        if (el.style.zIndex === 5) {
          el.style.zIndex = 1;
        } else {
          el.style.zIndex = 5;
        }

        el.style.opacity = ~~!~~el.style.opacity;
      }
    </script>
    <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDxff4cnltkHkbBZYzEiRcsxjsoQqWLle0&callback=initMap&libraries=places"></script>
    <script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>
  </body>
</html>
